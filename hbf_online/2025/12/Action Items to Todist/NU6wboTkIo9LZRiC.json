{"updatedAt":"2025-12-20T01:28:52.427Z","createdAt":"2025-12-20T00:34:35.128Z","id":"NU6wboTkIo9LZRiC","name":"Action Items to Todist","description":null,"active":false,"isArchived":false,"nodes":[{"parameters":{"assignments":{"assignments":[{"id":"id-4","name":"senderEmail","value":"notetaker@fyxer.com ","type":"string"},{"id":"id-5","name":"processAllEmails","value":false,"type":"boolean"}]},"includeOtherFields":true,"options":{}},"id":"7234736d-5fba-40ce-adc8-589bb5d8a5ad","name":"Workflow Configuration","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-2704,2912]},{"parameters":{"promptType":"define","text":"={{ $json.text }}","hasOutputParser":true,"options":{"systemMessage":"You are an AI assistant that gets tasks for Alex and only Alex from emails summaries of meetings. \n\nYour task is to:\n1. Analyze the \"Next Steps\" section in each email\n2. Extract the tasks for Alex specifically \n3. Output a task name, task description, and deadline which should be a datetime for each task. \n\nBe concise but comprehensive in your descriptions, capturing the essence of what needs to be done next."}},"id":"58a58226-885c-4761-bfc8-9832c0706e9e","name":"Summarize Email to Q&A","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":3,"position":[-1360,2848]},{"parameters":{"schemaType":"manual","inputSchema":"[\n  {\n    \"type\": \"array\",\n    \"properties\": {\n      \"task_name\": {\n        \"type\": \"string\",\n        \"description\": \"The name of the task\"\n      },\n      \"task_description\": {\n        \"type\": \"string\",\n        \"description\": \"The description of the task that needs to be done\"\n      },\n      \"task_deadline\": {\n        \"type\": \"datetime\",\n        \"description\": \"The day the task that needs to be completed\"\n      }\n    },\n    \"required\": [\"task_name\", \"task_description\"]\n  }\n]"},"id":"17a090d1-c400-4b53-88ac-521c3bdafcc9","name":"Structured Output Parser","type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[-1248,3152]},{"parameters":{"rule":{"interval":[{"field":"hours"}]}},"id":"54a9e1bb-bca9-462e-826b-6eff022cd901","name":"Schedule Trigger","type":"n8n-nodes-base.scheduleTrigger","typeVersion":1.3,"position":[-2928,2912]},{"parameters":{"operation":"getAll","returnAll":true,"filters":{"sender":"={{ $('Workflow Configuration').first().json.senderEmail }}"}},"id":"69b8a492-9633-4af9-be7d-d95741f8fa6e","name":"Get Emails from Gmail","type":"n8n-nodes-base.gmail","typeVersion":2.2,"position":[-2480,2816],"webhookId":"73b717e3-7fc3-4e8e-b0cf-c506940f5ba8","credentials":{"gmailOAuth2":{"id":"OK1hFEYTVwQ7tSoT","name":"Gmail account"}}},{"parameters":{"operation":"executeQuery","query":"SELECT email_id FROM processed_task_emails","options":{}},"id":"06520877-6d44-42bb-a1ff-81f0daea6550","name":"Get Processed Email IDs","type":"n8n-nodes-base.postgres","typeVersion":2.6,"position":[-2480,3008],"credentials":{"postgres":{"id":"WWldlqVomwZ5VIIy","name":"Postgres account"}}},{"parameters":{"schema":{"__rl":true,"mode":"list","value":"public"},"table":{"__rl":true,"value":"processed_task_emails","mode":"name"},"columns":{"mappingMode":"defineBelow","value":{"processed_at":"={{ $now.toISO() }}","email_id":"={{ $json.id }}"},"matchingColumns":[],"schema":[{"id":"email_id","displayName":"email_id","required":true,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"processed_at","displayName":"processed_at","required":false,"defaultMatch":false,"display":true,"type":"dateTime","canBeUsedToMatch":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"id":"449f9c27-8f2d-4945-b6c7-712944f2f6ed","name":"Mark Email as Processed","type":"n8n-nodes-base.postgres","typeVersion":2.6,"position":[160,3248],"credentials":{"postgres":{"id":"WWldlqVomwZ5VIIy","name":"Postgres account"}}},{"parameters":{"content":"## Table Setup\n\n```\nCREATE TABLE processed_emails (\n    email_id VARCHAR(255) NOT NULL PRIMARY KEY,\n    processed_at TIMESTAMPTZ DEFAULT NOW()\n);\n```","height":240},"type":"n8n-nodes-base.stickyNote","position":[-2544,3216],"typeVersion":1,"id":"13752bbd-14a6-42cb-9e36-73ee010df51d","name":"Sticky Note"},{"parameters":{"content":"Change processAllEmails to true to process all emails"},"type":"n8n-nodes-base.stickyNote","position":[-2880,2368],"typeVersion":1,"id":"27277168-1d12-453c-b507-b54f783b2bbf","name":"Sticky Note2"},{"parameters":{"mode":"combine","advanced":true,"mergeByFields":{"values":[{"field1":"id","field2":"email_id"}]},"joinMode":"keepNonMatches","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[-2208,2832],"id":"3756442b-3202-4582-b3c6-de6636cbc2db","name":"Merge"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[-1904,2832],"id":"c4622878-a524-4322-a8ad-a4b98bb465da","name":"Loop Over Items"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"claude-sonnet-4-5-20250929","cachedResultName":"Claude Sonnet 4.5"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[-1504,3152],"id":"3ec83dd3-3888-4ff7-8072-d0df7c3a9936","name":"Anthropic Chat Model","credentials":{"anthropicApi":{"id":"NKYjzo3YZOYQuuWN","name":"Anthropic account"}}},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[384,3312],"id":"1629cc4b-0590-4591-b0ae-44c4f62952b8","name":"Merge3"},{"parameters":{"operation":"get","messageId":"={{ $json.id }}","simple":false,"options":{}},"type":"n8n-nodes-base.gmail","typeVersion":2.2,"position":[-1648,2848],"id":"345fdffd-6193-4640-8f5c-e8599dd0b584","name":"Get a message","webhookId":"3f4ca50b-89a2-47a4-b7d1-21172d9e6283","credentials":{"gmailOAuth2":{"id":"OK1hFEYTVwQ7tSoT","name":"Gmail account"}}},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[-688,2848],"id":"2b755c61-28a0-43c7-b865-e5ac0dbe52cd","name":"Loop Over Items1"},{"parameters":{"authentication":"oAuth2","project":{"__rl":true,"value":"2364322846","mode":"list","cachedResultName":"test"},"content":"={{ $json.task_name }}","options":{"description":"={{ $json.task_description }}","dueDateTime":"={{ $json.deadline }}"}},"type":"n8n-nodes-base.todoist","typeVersion":2.1,"position":[-320,2928],"id":"74bada84-d828-403e-9df1-a8be277be68b","name":"Create a task","credentials":{"todoistOAuth2Api":{"id":"QNi2Vw5gYnjBs6zD","name":"Todoist account"}}},{"parameters":{"jsCode":"\n\nreturn []"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-1584,2576],"id":"aa43d478-4f5e-4506-a24d-6c84d8da10c9","name":"Completed"},{"parameters":{"jsCode":"return $input.first().json.output.map((obj) => {\n    return obj\n  })"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-1008,2848],"id":"231d351b-713d-44d6-9aee-3341a2e0b834","name":"Code in JavaScript"},{"parameters":{},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[-160,3248],"id":"cc3e94d4-eedc-426f-b119-6bca6543070b","name":"Merge1"}],"connections":{"Workflow Configuration":{"main":[[{"node":"Get Emails from Gmail","type":"main","index":0},{"node":"Get Processed Email IDs","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Summarize Email to Q&A","type":"ai_outputParser","index":0}]]},"Summarize Email to Q&A":{"main":[[{"node":"Code in JavaScript","type":"main","index":0}]]},"Schedule Trigger":{"main":[[{"node":"Workflow Configuration","type":"main","index":0}]]},"Get Emails from Gmail":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Get Processed Email IDs":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Merge":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Mark Email as Processed":{"main":[[{"node":"Merge3","type":"main","index":0}]]},"Loop Over Items":{"main":[[{"node":"Completed","type":"main","index":0}],[{"node":"Get a message","type":"main","index":0},{"node":"Merge1","type":"main","index":1}]]},"Anthropic Chat Model":{"ai_languageModel":[[{"node":"Summarize Email to Q&A","type":"ai_languageModel","index":0}]]},"Merge3":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Get a message":{"main":[[{"node":"Summarize Email to Q&A","type":"main","index":0}]]},"Loop Over Items1":{"main":[[{"node":"Merge1","type":"main","index":0}],[{"node":"Create a task","type":"main","index":0}]]},"Create a task":{"main":[[{"node":"Loop Over Items1","type":"main","index":0}]]},"Code in JavaScript":{"main":[[{"node":"Loop Over Items1","type":"main","index":0}]]},"Merge1":{"main":[[{"node":"Mark Email as Processed","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","timeSavedMode":"fixed","saveExecutionProgress":true,"callerPolicy":"workflowsFromSameOwner","availableInMCP":false,"timeSavedPerExecution":5},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"41be61c3-5b1a-4901-b207-8356b339d3f7","activeVersionId":null,"versionCounter":33,"triggerCount":0,"shared":[{"updatedAt":"2025-12-20T00:34:35.138Z","createdAt":"2025-12-20T00:34:35.138Z","role":"workflow:owner","workflowId":"NU6wboTkIo9LZRiC","projectId":"pPfvO125ydUVIXPh","project":{"updatedAt":"2025-12-08T14:51:48.381Z","createdAt":"2025-12-08T14:51:42.916Z","id":"pPfvO125ydUVIXPh","name":"Alex   <alex@honeybearfinancials.com>","type":"personal","icon":null,"description":null,"creatorId":"b5c2bbf4-eb13-4025-80fb-2acb074cc668","projectRelations":[{"updatedAt":"2025-12-08T14:51:42.916Z","createdAt":"2025-12-08T14:51:42.916Z","userId":"b5c2bbf4-eb13-4025-80fb-2acb074cc668","projectId":"pPfvO125ydUVIXPh","user":{"updatedAt":"2025-12-28T05:11:34.000Z","createdAt":"2025-12-08T14:51:40.983Z","id":"b5c2bbf4-eb13-4025-80fb-2acb074cc668","email":"alex@honeybearfinancials.com","firstName":"Alex","lastName":" ","personalizationAnswers":null,"settings":{"userActivated":true,"userClaimedAiCredits":true,"easyAIWorkflowOnboarded":true,"firstSuccessfulWorkflowId":"AqqHC4HlzK2Gq3eR","userActivatedAt":1766876864154},"disabled":false,"mfaEnabled":false,"lastActiveAt":"2025-12-28","isPending":false}}]}}],"tags":[],"activeVersion":null}