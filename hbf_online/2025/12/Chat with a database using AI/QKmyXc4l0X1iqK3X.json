{"updatedAt":"2025-12-28T02:36:30.960Z","createdAt":"2025-12-19T15:55:45.805Z","id":"QKmyXc4l0X1iqK3X","name":"Chat with a database using AI","description":null,"active":false,"isArchived":false,"nodes":[{"parameters":{"options":{}},"id":"73786411-5383-4921-82ee-06b3b582bab7","name":"When chat message received","type":"@n8n/n8n-nodes-langchain.chatTrigger","position":[576,48],"webhookId":"1c0d08f0-abd0-4bdc-beef-370c27aae1a0","typeVersion":1.1},{"parameters":{"options":{}},"id":"57b2b959-9f25-475f-b6bb-842139725411","name":"AI Agent","type":"@n8n/n8n-nodes-langchain.agent","position":[800,48],"typeVersion":1.8},{"parameters":{"model":{"__rl":true,"mode":"list","value":"claude-sonnet-4-5-20250929","cachedResultName":"Claude Sonnet 4.5"},"options":{"thinking":true}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[672,256],"id":"05fdf207-c11f-43a2-807e-57d1d2c48b14","name":"Anthropic Chat Model","credentials":{"anthropicApi":{"id":"NKYjzo3YZOYQuuWN","name":"Anthropic account"}}},{"parameters":{"tableName":"email_qa_chat_histories"},"type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[848,256],"id":"7d4eba83-0827-4fef-b3d1-bf807432a432","name":"Postgres Chat Memory","credentials":{"postgres":{"id":"WWldlqVomwZ5VIIy","name":"Postgres account"}}},{"parameters":{"description":"This schema represents a **customer support Q&A record** extracted from email threads with expert bookkeepers or CPAs, likely from a financial/accounting software support system.\n\n## Field Descriptions\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `question` | string | The customer's original inquiry or problem statement |\n| `answer` | string | The support response with step-by-step solution instructions |\n| `source` | string | Data source type (e.g., \"blob\" indicates binary large object storage) |\n| `blobType` | string | MIME type of the stored content (e.g., \"text/plain\") |\n| `emailId` | string | Unique identifier for the specific email message (hexadecimal format) |\n| `emailThreadId` | string | Unique identifier linking related messages in a conversation thread |\n| `threadMessageCount` | integer | Total number of messages in the email thread |"},"type":"@n8n/n8n-nodes-langchain.toolVectorStore","typeVersion":1.1,"position":[1040,256],"id":"660fde8f-3b78-496e-880e-e8576f2f2d72","name":"Answer questions with a vector store"},{"parameters":{"useReranker":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[1024,528],"id":"46d3d7d5-7d5c-4751-a843-471f691604f9","name":"Postgres PGVector Store1","credentials":{"postgres":{"id":"WWldlqVomwZ5VIIy","name":"Postgres account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[1104,832],"id":"7b8a7f10-4969-4dfd-b155-cafb04d0bff5","name":"Embeddings OpenAI1","credentials":{"openAiApi":{"id":"YkNmbyZnv2KRWq6X","name":"OpenAi account"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.rerankerCohere","typeVersion":1,"position":[1280,864],"id":"08eee980-ca6e-453b-872b-9202bf0256ef","name":"Reranker Cohere1","credentials":{"cohereApi":{"id":"IuOtaMz5OJyLZ6eE","name":"CohereApi account"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"claude-sonnet-4-5-20250929","cachedResultName":"Claude Sonnet 4.5"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.3,"position":[1296,384],"id":"5dcd7528-34fb-42ae-a51f-d2ecee809f93","name":"Anthropic Chat Model1","credentials":{"anthropicApi":{"id":"NKYjzo3YZOYQuuWN","name":"Anthropic account"}}}],"connections":{"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Anthropic Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Postgres Chat Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"Answer questions with a vector store":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Postgres PGVector Store1":{"ai_vectorStore":[[{"node":"Answer questions with a vector store","type":"ai_vectorStore","index":0}]]},"Embeddings OpenAI1":{"ai_embedding":[[{"node":"Postgres PGVector Store1","type":"ai_embedding","index":0}]]},"Reranker Cohere1":{"ai_reranker":[[{"node":"Postgres PGVector Store1","type":"ai_reranker","index":0}]]},"Anthropic Chat Model1":{"ai_languageModel":[[{"node":"Answer questions with a vector store","type":"ai_languageModel","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateId":"2090","templateCredsSetupCompleted":true},"pinData":{},"versionId":"a95fb567-0b55-4cb2-8c34-dcdde4556150","activeVersionId":null,"versionCounter":5,"triggerCount":0,"shared":[{"updatedAt":"2025-12-19T15:55:45.809Z","createdAt":"2025-12-19T15:55:45.809Z","role":"workflow:owner","workflowId":"QKmyXc4l0X1iqK3X","projectId":"pPfvO125ydUVIXPh","project":{"updatedAt":"2025-12-08T14:51:48.381Z","createdAt":"2025-12-08T14:51:42.916Z","id":"pPfvO125ydUVIXPh","name":"Alex   <alex@honeybearfinancials.com>","type":"personal","icon":null,"description":null,"creatorId":"b5c2bbf4-eb13-4025-80fb-2acb074cc668","projectRelations":[{"updatedAt":"2025-12-08T14:51:42.916Z","createdAt":"2025-12-08T14:51:42.916Z","userId":"b5c2bbf4-eb13-4025-80fb-2acb074cc668","projectId":"pPfvO125ydUVIXPh","user":{"updatedAt":"2025-12-28T05:11:34.000Z","createdAt":"2025-12-08T14:51:40.983Z","id":"b5c2bbf4-eb13-4025-80fb-2acb074cc668","email":"alex@honeybearfinancials.com","firstName":"Alex","lastName":" ","personalizationAnswers":null,"settings":{"userActivated":true,"userClaimedAiCredits":true,"easyAIWorkflowOnboarded":true,"firstSuccessfulWorkflowId":"AqqHC4HlzK2Gq3eR","userActivatedAt":1766876864154},"disabled":false,"mfaEnabled":false,"lastActiveAt":"2025-12-28","isPending":false}}]}}],"tags":[],"activeVersion":null}